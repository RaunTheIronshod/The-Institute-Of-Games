<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Institute of Games</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&family=Exo:wght@400;600;800&display=swap"
        rel="stylesheet">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/icons8-alien-monster-emoji-3d-fluency-32.png">

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <a class="navbar-brand" href="#home">
            <img src="assets/icons8-alien-monster-emoji-94.png" width="30" height="30" class="d-inline-block align-top"
                alt="Institute of Games purple alien logo">
            Institute of Games
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="#games">Games</a></li>
                <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
            </ul>
        </div>
    </nav>

    <!-- Background layers -->
    <div class="stars"></div>
    <div class="twinkling"></div>
    <div class="clouds"></div>
    <div class="platform"></div>

    <!-- PANEL 1: Home -->
    <section id="home" class="panel d-flex flex-column justify-content-center align-items-center text-center">
        <h1>Institute<br>of Games</h1>
    </section>

    <!-- Stage 2 background (scrollable) -->
    <div class="scroll-bg" id="stage2"></div>

    <!-- PANEL 2: Games -->
    <section id="games" class="panel d-flex flex-column justify-content-center align-items-center text-center">
        <h2 class="games-heading">Press Start to Play</h2>

        <div class="game-cards-container d-flex justify-content-center align-items-center flex-wrap">
            <!-- Card 1 -->
            <div class="game-card card">
                <img src="assets/screen-01.png" class="card-img-top" alt="Space Invaders">
                <div class="card-body">
                    <h5 class="card-title">Space Invaders</h5>
                    <p class="card-text">Defend the galaxy from endless waves of invaders.</p>
                    <a href="c-space-invaders.html" class="btn btn-primary">Start</a>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="game-card card">
                <img src="assets/screen-02.png" class="card-img-top" alt="Laser Fighter">
                <div class="card-body">
                    <h5 class="card-title">Laser Fighter</h5>
                    <p class="card-text">Shoot endless laser beams to defeat enemies and claim victory.</p>
                    <a href="b-jumper.html" class="btn btn-primary">Start</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Stage 3 background (scrollable) -->
    <div class="scroll-bg" id="stage3"></div>

    <!-- PANEL 3: About -->
    <section id="about"
        class="panel d-flex flex-column justify-content-center align-items-center text-center text-white">
        <div class="content" style="max-width: 600px;">
            <h2>About the Institute</h2>
            <p>
                The Institute of Games is a creative hub for classic and modern gaming enthusiasts.
                Our mission is to celebrate game design, from retro 8-bit titles to modern web-based experiences.
            </p>
            <p>
                Built by passionate designers and developers, we aim to inspire creativity and curiosity through
                interactive digital projects.
            </p>
        </div>
    </section>

    <!-- Bootstrap scripts -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>

    <!-- Background music -->
    <audio id="bg-music" src="assets/space-ranger-moire-main-version-03-04-10814.mp3" loop></audio>

    <!-- Music toggle icon -->
    <div id="music-toggle" class="music-icon" title="Toggle Music">ðŸ”‰</div>

    <!-- JS: autoplay + toggle -->
    <script>
        window.addEventListener('load', function () {
            const music = document.getElementById('bg-music');
            const toggle = document.getElementById('music-toggle');

            // Try autoplay
            const playPromise = music.play();
            if (playPromise !== undefined) {
                playPromise.catch(() => {
                    const startMusic = () => {
                        music.play();
                        document.removeEventListener('click', startMusic);
                        document.removeEventListener('scroll', startMusic);
                    };
                    document.addEventListener('click', startMusic);
                    document.addEventListener('scroll', startMusic);
                });
            }

            // Toggle button
            toggle.addEventListener('click', () => {
                if (music.paused) {
                    music.play();
                    toggle.textContent = 'ðŸ”‰';
                } else {
                    music.pause();
                    toggle.textContent = 'ðŸ”‡';
                }
            });
        });
    </script>
</body>

</html>